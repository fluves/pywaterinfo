<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing to pywaterinfo &mdash; pywaterinfo 0.8.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=ec16d22d"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Print versus logging" href="logging.html" />
    <link rel="prev" title="pywaterinfo package" href="api/reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pywaterinfo
          </a>
              <div class="version">
                0.8.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="timeseriesgroupids.html">Group identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/reference.html">Module Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing to pywaterinfo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#code-of-conduct">Code of conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-you-can-contribute">How you can contribute?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#share-the-love">Share the love</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ask-a-question">Ask a question ⁉️</a></li>
<li class="toctree-l3"><a class="reference internal" href="#propose-an-idea">Propose an idea</a></li>
<li class="toctree-l3"><a class="reference internal" href="#report-a-bug">Report a bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="#improve-the-documentation">Improve the documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contribute-code">Contribute code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#development-guidelines">Development guidelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pre-commit-hooks">Pre-commit hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unit-testing-with-pytest">Unit testing with pytest</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation-with-sphinx">Documentation with sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="#coding-guidelines">Coding guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pywaterinfo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contributing to pywaterinfo</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/fluves/pywaterinfo/blob/master/docs/contributing.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contributing-to-pywaterinfo">
<h1>Contributing to pywaterinfo<a class="headerlink" href="#contributing-to-pywaterinfo" title="Link to this heading">¶</a></h1>
<p>First of all, thanks for considering contributing to pywaterinfo! It’s people like you that make it
rewarding for us - the project <a class="reference internal" href="authors.html#authors"><span class="std std-ref">Contributors</span></a> - to work on pywaterinfo.</p>
<p>pywaterinfo is an open source project, maintained by people who care.</p>
<section id="code-of-conduct">
<h2>Code of conduct<a class="headerlink" href="#code-of-conduct" title="Link to this heading">¶</a></h2>
<p>Please note that this project is released with a <a class="reference internal" href="conduct.html#code-conduct"><span class="std std-ref">Code of Conduct</span></a>.
By participating in this project you agree to abide by its terms.</p>
</section>
<section id="how-you-can-contribute">
<h2>How you can contribute?<a class="headerlink" href="#how-you-can-contribute" title="Link to this heading">¶</a></h2>
<p>There are several ways you can contribute to this project. If you want to know
more about why and how to contribute to open source projects like this one,
see this <a class="reference external" href="https://opensource.guide/how-to-contribute/">Open Source Guide</a>.</p>
<section id="share-the-love">
<h3>Share the love<a class="headerlink" href="#share-the-love" title="Link to this heading">¶</a></h3>
<p>Think pywaterinfo is useful? Let others discover it, by telling them in person, via <a class="reference external" href="https://twitter.com/fluves">Twitter</a> or a blog post.</p>
<p>Using pywaterinfo for a paper you are writing? Consider citing it:</p>
<blockquote>
<div><p>#TODO</p>
</div></blockquote>
</section>
<section id="ask-a-question">
<h3>Ask a question ⁉️<a class="headerlink" href="#ask-a-question" title="Link to this heading">¶</a></h3>
<p>Using pywaterinfo and got stuck? Browse the <a class="reference external" href="https://fluves.github.io/pywaterinfo/">documentation</a> to see if you
can find a solution. Still stuck? Post your question as a <a class="reference external" href="https://github.com/fluves/pywaterinfo/issues/new">new issue</a> on GitHub.
While we cannot offer user support, we’ll try to do our best to address it,
as questions often lead to better documentation or the discovery of bugs.</p>
</section>
<section id="propose-an-idea">
<h3>Propose an idea<a class="headerlink" href="#propose-an-idea" title="Link to this heading">¶</a></h3>
<p>Have an idea for a new pywaterinfo feature? Take a look at the <a class="reference external" href="https://fluves.github.io/pywaterinfo/">documentation</a> and
<a class="reference external" href="https://github.com/fluves/pywaterinfo/issues">issue list</a> to see if it isn’t included or suggested yet. If not, suggest
your idea as a <a class="reference external" href="https://github.com/fluves/pywaterinfo/issues/new">new issue</a> on GitHub. While we can’t promise to implement
your idea, it helps to:</p>
<ul class="simple">
<li><p>Explain in detail how it would work.</p></li>
<li><p>Keep the scope as narrow as possible.</p></li>
</ul>
<p>See <a class="reference internal" href="#dev-guidelines"><span class="std std-ref">Development guidelines</span></a>,  if you want to contribute code for your idea as well.</p>
</section>
<section id="report-a-bug">
<h3>Report a bug<a class="headerlink" href="#report-a-bug" title="Link to this heading">¶</a></h3>
<p>Using pywaterinfo and discovered a bug? That’s annoying! Don’t let others have the
same experience and report it as a <a class="reference external" href="https://github.com/fluves/pywaterinfo/issues/new">new issue</a> so we can fix it. A good bug
report makes it easier for us to do so, so please include:</p>
<ul class="simple">
<li><p>Your operating system name and version (e.g. Mac OS 10.13.6).</p></li>
<li><p>Any details about your local setup that might be helpful in troubleshooting.</p></li>
<li><p>Detailed steps to reproduce the bug.</p></li>
</ul>
<p>The issue template will provide tom guidance on the required information.</p>
</section>
<section id="improve-the-documentation">
<h3>Improve the documentation<a class="headerlink" href="#improve-the-documentation" title="Link to this heading">¶</a></h3>
<p>Noticed a typo on the website? Think a function could use a better example?
Good documentation makes all the difference, so your help to improve it is very
welcome! Maybe you’ve written a good introduction tutorial or example case,
these are typically very popular sections for new users.</p>
<p><strong>The website</strong></p>
<p><a class="reference external" href="https://fluves.github.io/pywaterinfo/">This website</a> is generated with <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a>. That means we don’t have to
write any html. Content is pulled together from documentation in the code,
<a class="reference external" href="https://docutils.sourceforge.net/rst.html">reStructuredText</a> files and the package <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> settings. If you
know your way around <em>Sphinx</em>, you can <a class="reference external" href="https://help.github.com/articles/editing-files-in-another-user-s-repository/">propose a file change</a> to improve
documentation. If not, <a class="reference external" href="https://github.com/fluves/pywaterinfo/issues/new">report an issue</a> and we can point you in the right direction.</p>
<p><strong>Function documentation</strong></p>
<p>Functions are described as comments near their code and translated to
documentation using the  <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpy docstring standard</a>. If you want to improve a
function description:</p>
<ol class="arabic simple">
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">pywaterinfo/</span></code> directory in the <a class="reference external" href="https://github.com/fluves/pywaterinfo">code repository</a>.</p></li>
<li><p>Look for the file with the name of the function.</p></li>
<li><p><a class="reference external" href="https://help.github.com/articles/editing-files-in-another-user-s-repository/">Propose a file change</a> to update the function documentation in the docstring (in between the triple quotes).</p></li>
</ol>
</section>
<section id="contribute-code">
<h3>Contribute code<a class="headerlink" href="#contribute-code" title="Link to this heading">¶</a></h3>
<p>Care to fix bugs or implement new functionality for pywaterinfo? Awesome! Have a
look at the <a class="reference external" href="https://github.com/fluves/pywaterinfo/issues">issue list</a> and leave a comment on the things you want
to work on. See also the development guidelines below.</p>
</section>
</section>
</section>
<section id="development-guidelines">
<span id="dev-guidelines"></span><h1>Development guidelines<a class="headerlink" href="#development-guidelines" title="Link to this heading">¶</a></h1>
<p>It’s good practice to create a separate development environment for your package development. Use your preferred
system (or maybe integrated in your IDE) to setup a Python environment and see those docs to setup an environment
(conda, pyenv, virtualenv,,…). Once created, you can install the package with all the developer dependencies
using pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span><span class="p">[</span><span class="n">develop</span><span class="p">]</span>
</pre></div>
</div>
<p>Alternatively, if you are already familiar with <code class="docutils literal notranslate"><span class="pre">tox</span></code>, run the <code class="docutils literal notranslate"><span class="pre">dev</span></code> tox command, which will create a <code class="docutils literal notranslate"><span class="pre">venv</span></code> with a
development install of the package and it will register the environment as a ipykernel (for usage
inside a jupyter notebook):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">dev</span>
</pre></div>
</div>
<p>For development purposes using conda, make sure to first run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.[develop]</span></code> environment
to prepare the development environment and install all development tools. (When using <code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">dev</span></code> this
is already done).</p>
<p>When starting on the development of the <code class="docutils literal notranslate"><span class="pre">pywaterinfo</span></code> package, makes sure to be familiar with the following tools. Do
not hesitate to ask the other contributors when having trouble using these tools.</p>
<section id="pre-commit-hooks">
<h2>Pre-commit hooks<a class="headerlink" href="#pre-commit-hooks" title="Link to this heading">¶</a></h2>
<p>To ensure a more common code formatting and limit the git diff, make sure to install the pre-commit hooks. For example,
<a class="reference external" href="https://black.readthedocs.io/en/stable/index.html">black</a>. is used to make the code formatting as consistent as possible.The
required dependencies are included in the development requirements installed when running <code class="docutils literal notranslate"><span class="pre">``pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.[develop]</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Install and update the <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> hooks before your first git commit to the package!</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">install</span>
<span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">autoupdate</span>
</pre></div>
</div>
<p>on the main level of the package (<code class="docutils literal notranslate"><span class="pre">pywaterinfo</span></code> folder, location where the file <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code> is located)</p>
<p>If you just want to run the hooks on your files to see the effect (not during a git commit),
you can use the command at any time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">run</span> <span class="o">--</span><span class="nb">all</span><span class="o">-</span><span class="n">files</span>
</pre></div>
</div>
</section>
<section id="unit-testing-with-pytest">
<h2>Unit testing with pytest<a class="headerlink" href="#unit-testing-with-pytest" title="Link to this heading">¶</a></h2>
<p>Run the test suite using the <a class="reference external" href="https://docs.pytest.org">pytest</a> package, from within the main package folder (<cite>pyhdas</cite>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span>
</pre></div>
</div>
<p>Or using tox (i.e. in a separate environment)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span>
</pre></div>
</div>
<p>You will receive information on the test status and the test coverage of the unit tests.</p>
<p>In order to run all the tests, you need a HIC&amp;VMM token, defined as an environmental variables <code class="docutils literal notranslate"><span class="pre">HIC_TOKEN</span></code>
and <a href="#id5"><span class="problematic" id="id6">``</span></a>VMM_TOKEN` respectively. When you do not have a HIC token, you can ignore the token tests for HIC webservice,
be defining to not run the tests marked with the <cite>notoken</cite> label:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;not notoken&#39;</span>
</pre></div>
</div>
<p>The Github actions CI does have the token stored as a <em>secret</em>, so you do not really need a token for local testing, as eventual failures
will be noticed by the Github Actions CI. Although, PRs from forks will not have access to these Github secrets, so these
tests are ignored when running from fork.</p>
</section>
<section id="documentation-with-sphinx">
<h2>Documentation with sphinx<a class="headerlink" href="#documentation-with-sphinx" title="Link to this heading">¶</a></h2>
<p>Build the documentation locally with Sphinx:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">docs</span>
</pre></div>
</div>
<p>which will create the docs in the <code class="docutils literal notranslate"><span class="pre">docs/_build/html</span></code> folder. The <code class="docutils literal notranslate"><span class="pre">docs/_build</span></code> directory itself is
left out of version control (and we rather keep it as such ;-)). Double click the <cite>index.html</cite> to see the
website on your local computer.</p>
</section>
<section id="coding-guidelines">
<h2>Coding guidelines<a class="headerlink" href="#coding-guidelines" title="Link to this heading">¶</a></h2>
<p>The following are some guidelines on how new code should be written. Of course,
there are special cases and there will be exceptions to these rules. However,
following these rules when submitting new code makes the review easier so new
code can be integrated in less time.</p>
<p>Uniformly formatted code makes it easier to share code ownership. The
pywaterinfo project tries to closely follow the official Python guidelines
detailed in <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a> which detail
how code should be formatted and indented. Please read it and follow it.</p>
<p>In addition, we add the following guidelines:</p>
<ul class="simple">
<li><p>Use underscores to separate words in non class names: <code class="docutils literal notranslate"><span class="pre">n_samples</span></code> rather than <code class="docutils literal notranslate"><span class="pre">nsamples</span></code>.</p></li>
<li><p>Avoid multiple statements on one line. Prefer a line return after a control flow statement (<code class="docutils literal notranslate"><span class="pre">if/for</span></code>).</p></li>
<li><p>Please don’t use <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">*</span></code> in any case. It is considered harmful by the official Python recommendations. It makes the code harder to read as the origin of symbols is no longer explicitly referenced, but most important, it prevents using a static analysis tool like pyflakes to automatically find bugs.</p></li>
<li><p>Use the <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpy docstring standard</a> in all your docstrings.</p></li>
<li><p>The attributes for specific classes are Pandas data.frames, please use lowercase names (eventually with <cite>_</cite>) as column names.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api/reference.html" class="btn btn-neutral float-left" title="pywaterinfo package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="logging.html" class="btn btn-neutral float-right" title="Print versus logging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Fluves.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>